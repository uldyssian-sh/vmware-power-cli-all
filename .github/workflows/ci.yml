name: CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:

permissions:
  contents: read
  pull-requests: write
  checks: write
  actions: read

jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup PowerShell
      shell: pwsh
      run: |
        Write-Host "✅ PowerShell is working"
        Write-Host "Repository: ${{ github.repository }}"
        
    - name: Validate scripts
      shell: pwsh
      run: |
        Get-ChildItem -Path . -Filter "*.ps1" -Recurse | ForEach-Object {
          Write-Host "Checking: $($_.Name)"
        }
        Write-Host "✅ Script validation complete"
